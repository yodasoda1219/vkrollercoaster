set(IMGUI_DIR "${CMAKE_CURRENT_SOURCE_DIR}/imgui")
file(GLOB MANIFEST "${IMGUI_DIR}/*.cpp" "${IMGUI_DIR}/*.h" "${IMGUI_DIR}/misc/cpp/imgui_stdlib.*")
set(BACKENDS glfw vulkan)
foreach(BACKEND ${BACKENDS})
    set(BACKEND_LIST_STRING "${BACKEND_LIST_STRING} ${BACKEND}")
    file(GLOB BACKEND_SOURCE "${IMGUI_DIR}/backends/imgui_impl_${BACKEND}.*")
    list(APPEND MANIFEST ${BACKEND_SOURCE})
endforeach()
message(STATUS "Enabled Dear ImGui backends:${BACKEND_LIST_STRING}")
add_library(imgui STATIC ${MANIFEST})
target_include_directories(imgui PUBLIC ${Vulkan_INCLUDE_DIR} ${IMGUI_DIR})
target_link_libraries(imgui PUBLIC ${Vulkan_LIBRARIES} glfw)